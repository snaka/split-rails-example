<div class="container mx-auto px-4 py-8">
  <header class="<%= header_style_class %>">
    <h1>Contact Us</h1>
  </header>

  <div class="mt-8 max-w-2xl mx-auto">
    <% if @errors && @errors.any? %>
      <div class="<%= error_message_class %> mb-6">
        <% case @error_message_style %>
        <% when "brief" %>
          <ul>
            <% @errors.each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        <% when "detailed" %>
          <h4 class="font-semibold mb-2">Please correct the following errors:</h4>
          <ul class="list-disc list-inside">
            <% @errors.each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
          <p class="mt-2 text-sm">All fields are required to process your message.</p>
        <% when "friendly" %>
          <h4 class="font-semibold mb-2">Oops! We need a bit more information:</h4>
          <ul class="list-none">
            <% @errors.each do |error| %>
              <li>â€¢ <%= error %></li>
            <% end %>
          </ul>
          <p class="mt-2 text-sm">Don't worry, just fill in the missing fields and we'll get your message!</p>
        <% end %>
      </div>
    <% end %>

    <% if notice %>
      <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6">
        <%= notice %>
        <% case @notification_timing %>
        <% when "immediate" %>
          <p class="text-sm mt-1">Response delivered immediately</p>
        <% when "delayed_5s" %>
          <p class="text-sm mt-1">Response delivered after 5 seconds</p>
        <% when "delayed_10s" %>
          <p class="text-sm mt-1">Response delivered after 10 seconds</p>
        <% end %>
      </div>
    <% end %>

    <%= form_with url: contact_path, local: true, class: "space-y-6" do |form| %>
      <div>
        <%= form.label :name, class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_field :name, value: params[:name], class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500", placeholder: "Your name" %>
      </div>

      <div>
        <%= form.label :email, class: "block text-sm font-medium text-gray-700" %>
        <%= form.email_field :email, value: params[:email], class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500", placeholder: "your@email.com" %>
      </div>

      <div>
        <%= form.label :subject, class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_field :subject, value: params[:subject], class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500", placeholder: "What can we help you with?" %>
      </div>

      <div>
        <%= form.label :message, class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_area :message, value: params[:message], rows: 4, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500", placeholder: "Tell us more about your question or feedback..." %>
      </div>

      <div>
        <%= form.submit "Send Message", class: button_color_class + " px-6 py-2 rounded font-semibold" %>
      </div>
    <% end %>

    <div class="mt-8 bg-gray-50 p-6 rounded-lg">
      <h3 class="font-semibold mb-4">Other Ways to Reach Us</h3>
      <div class="space-y-2">
        <p><strong>Email:</strong> support@todoapp.com</p>
        <p><strong>Phone:</strong> +1 (555) 123-4567</p>
        <p><strong>Hours:</strong> Monday-Friday, 9 AM - 6 PM EST</p>
      </div>
    </div>
  </div>

  <div class="mt-8 text-center text-sm text-gray-500">
    <p>Error Message Style: <span class="font-mono"><%= @error_message_style %></span></p>
    <p>Notification Timing: <span class="font-mono"><%= @notification_timing %></span></p>
  </div>
</div>